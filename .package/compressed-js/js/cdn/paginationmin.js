!function(r,q){function p(b){throw new Error("Pagination: "+b);}function o(b){b.dataSource||p('"dataSource" is required.'),"string"==typeof b.dataSource?void 0===b.totalNumberLocator?void 0===b.totalNumber?p('"totalNumber" is required.'):q.isNumeric(b.totalNumber)||p('"totalNumber" is incorrect. (Number)'):q.isFunction(b.totalNumberLocator)||p('"totalNumberLocator" should be a Function.'):j.isObject(b.dataSource)&&(void 0===b.locator?p('"dataSource" is an Object, please specify "locator".'):"string"==typeof b.locator||q.isFunction(b.locator)||p(b.locator+" is incorrect. (String | Function)")),void 0===b.formatResult||q.isFunction(b.formatResult)||p('"formatResult" should be a Function.');}function n(b){var d=["go","previous","next","disable","enable","refresh","show","hide","destroy"];q.each(d,function(a,e){b.off(k+e);}),b.data("pagination",{}),q(".paginationjs",b).remove();}function m(d,c){return("object"==(c=typeof d)?null==d&&"null"||Object.prototype.toString.call(d).slice(8,-1):c).toLowerCase();}void 0===q&&p("Pagination requires jQuery.");var l="pagination",k="__pagination-";q.fn.pagination&&(l="pagination2"),q.fn[l]=function(e){if(void 0===e){return this;}var d=q(this),c=q.extend({},q.fn[l].defaults,e),b={initialize:function(){var f=this;if(d.data("pagination")||d.data("pagination",{}),!1!==f.callHook("beforeInit")){d.data("pagination").initialized&&q(".paginationjs",d).remove(),f.disabled=!!c.disabled;var g=f.model={pageRange:c.pageRange,pageSize:c.pageSize};f.parseDataSource(c.dataSource,function(h){if(f.isAsync=j.isString(h),j.isArray(h)&&(g.totalNumber=c.totalNumber=h.length),f.isDynamicTotalNumber=f.isAsync&&c.totalNumberLocator,!(c.hideWhenLessThanOnePage&&f.getTotalPage()<=1)){var i=f.render(!0);c.className&&i.addClass(c.className),g.el=i,d["bottom"===c.position?"append":"prepend"](i),f.observer(),d.data("pagination").initialized=!0,f.callHook("afterInit",i);}});}},render:function(B){var A=this,z=A.model,y=z.el||q('<div focusable class="paginationjs"></div>'),x=!0!==B;A.callHook("beforeRender",x);var w=z.pageNumber||c.pageNumber,v=c.pageRange,u=A.getTotalPage(),t=w-v,s=w+v;return s>u&&(s=u,t=u-2*v,t=t<1?1:t),t<=1&&(t=1,s=Math.min(2*v+1,u)),y.html(A.generateHTML({currentPage:w,pageRange:v,rangeStart:t,rangeEnd:s})),A.callHook("afterRender",x),y;},generateHTML:function(ar){var aq,ap,ao=this,an=ar.currentPage,am=ao.getTotalPage(),al=ar.rangeStart,ak=ar.rangeEnd,aj=ao.getTotalNumber(),ai=c.showPrevious,ah=c.showNext,ag=c.showPageNumbers,af=c.showNavigator,ae=c.showGoInput,ac=c.showGoButton,aa=c.pageLink,Y=c.prevText,W=c.nextText,U=c.ellipsisText,S=c.goButtonText,Q=c.classPrefix,O=c.activeClassName,M=c.disableClassName,K=c.ulClassName,ad="",ab='<input type="text" class="J-paginationjs-go-pagenumber">',Z='<input type="button" class="J-paginationjs-go-button" value="'+S+'">',X=q.isFunction(c.formatNavigator)?c.formatNavigator(an,am,aj):c.formatNavigator,V=q.isFunction(c.formatGoInput)?c.formatGoInput(ab,an,am,aj):c.formatGoInput,T=q.isFunction(c.formatGoButton)?c.formatGoButton(Z,an,am,aj):c.formatGoButton,R=q.isFunction(c.autoHidePrevious)?c.autoHidePrevious():c.autoHidePrevious,P=q.isFunction(c.autoHideNext)?c.autoHideNext():c.autoHideNext,N=q.isFunction(c.header)?c.header(an,am,aj):c.header,L=q.isFunction(c.footer)?c.footer(an,am,aj):c.footer;if(N&&(aq=ao.replaceVariables(N,{currentPage:an,totalPage:am,totalNumber:aj}),ad+=aq),ai||ag||ah){if(ad+='<div focusable class="paginationjs-pages">',ad+=K?'<ul class="'+K+'">':"<ul>",ai&&(an<=1?R||(ad+='<li class="'+Q+"-prev "+M+'"><a>'+Y+"</a></li>"):ad+='<li class="'+Q+'-prev J-paginationjs-previous" data-num="'+(an-1)+'" title="Previous page"><a href="'+aa+'">'+Y+"</a></li>"),ag){if(al<=3){for(ap=1;ap<al;ap++){ad+=ap==an?'<li class="'+Q+"-page J-paginationjs-page "+O+'" data-num="'+ap+'"><a>'+ap+"</a></li>":'<li class="'+Q+'-page J-paginationjs-page" data-num="'+ap+'"><a href="'+aa+'">'+ap+"</a></li>";}}else{c.showFirstOnEllipsisShow&&(ad+='<li class="'+Q+"-page "+Q+'-first J-paginationjs-page" data-num="1"><a href="'+aa+'">1</a></li>'),ad+='<li class="'+Q+"-ellipsis "+M+'"><a>'+U+"</a></li>";}for(ap=al;ap<=ak;ap++){ad+=ap==an?'<li class="'+Q+"-page J-paginationjs-page "+O+'" data-num="'+ap+'"><a>'+ap+"</a></li>":'<li class="'+Q+'-page J-paginationjs-page" data-num="'+ap+'"><a href="'+aa+'">'+ap+"</a></li>";}if(ak>=am-2){for(ap=ak+1;ap<=am;ap++){ad+='<li class="'+Q+'-page J-paginationjs-page" data-num="'+ap+'"><a href="'+aa+'">'+ap+"</a></li>";}}else{ad+='<li class="'+Q+"-ellipsis "+M+'"><a>'+U+"</a></li>",c.showLastOnEllipsisShow&&(ad+='<li class="'+Q+"-page "+Q+'-last J-paginationjs-page" data-num="'+am+'"><a href="'+aa+'">'+am+"</a></li>");}}ah&&(an>=am?P||(ad+='<li class="'+Q+"-next "+M+'"><a>'+W+"</a></li>"):ad+='<li class="'+Q+'-next J-paginationjs-next" data-num="'+(an+1)+'" title="Next page"><a href="'+aa+'">'+W+"</a></li>"),ad+="</ul></div>";}return af&&X&&(aq=ao.replaceVariables(X,{currentPage:an,totalPage:am,totalNumber:aj}),ad+='<div focusable class="'+Q+'-nav J-paginationjs-nav">'+aq+"</div>"),ae&&V&&(aq=ao.replaceVariables(V,{currentPage:an,totalPage:am,totalNumber:aj,input:ab}),ad+='<div focusable class="'+Q+'-go-input">'+aq+"</div>"),ac&&T&&(aq=ao.replaceVariables(T,{currentPage:an,totalPage:am,totalNumber:aj,button:Z}),ad+='<div focusable class="'+Q+'-go-button">'+aq+"</div>"),L&&(aq=ao.replaceVariables(L,{currentPage:an,totalPage:am,totalNumber:aj}),ad+=aq),ad;},findTotalNumberFromRemoteResponse:function(f){this.model.totalNumber=c.totalNumberLocator(f);},go:function(D,C){function B(f){if(!1===A.callHook("beforePaging",y)){return !1;}if(z.direction=void 0===z.pageNumber?0:y>z.pageNumber?1:-1,z.pageNumber=y,A.render(),A.disabled&&A.isAsync&&A.enable(),d.data("pagination").model=z,c.formatResult){var g=q.extend(!0,[],f);j.isArray(f=c.formatResult(g))||(f=g);}d.data("pagination").currentPageData=f,A.doCallback(f,C),A.callHook("afterPaging",y),1==y&&A.callHook("afterIsFirstPage"),y==A.getTotalPage()&&A.callHook("afterIsLastPage");}var A=this,z=A.model;if(!A.disabled){var y=D;if((y=parseInt(y))&&!(y<1)){var x=c.pageSize,w=A.getTotalNumber(),v=A.getTotalPage();if(!(w>0&&y>v)){if(!A.isAsync){return void B(A.getDataFragment(y));}var u={},t=c.alias||{};u[t.pageSize?t.pageSize:"pageSize"]=x,u[t.pageNumber?t.pageNumber:"pageNumber"]=y;var s=q.isFunction(c.ajax)?c.ajax():c.ajax,i={type:"get",cache:!1,data:{},contentType:"application/x-www-form-urlencoded; charset=UTF-8",dataType:"json",async:!0};q.extend(!0,i,s),q.extend(i.data,u),i.url=c.dataSource,i.success=function(f){A.isDynamicTotalNumber?A.findTotalNumberFromRemoteResponse(f):A.model.totalNumber=c.totalNumber,B(A.filterDataByLocator(f));},i.error=function(g,f,h){c.formatAjaxError&&c.formatAjaxError(g,f,h),A.enable();},A.disable(),q.ajax(i);}}}},doCallback:function(f,i){var h=this,g=h.model;q.isFunction(i)?i(f,g):q.isFunction(c.callback)&&c.callback(f,g);},destroy:function(){!1!==this.callHook("beforeDestroy")&&(this.model.el.remove(),d.off(),q("#paginationjs-style").remove(),this.callHook("afterDestroy"));},previous:function(f){this.go(this.model.pageNumber-1,f);},next:function(f){this.go(this.model.pageNumber+1,f);},disable:function(){var g=this,f=g.isAsync?"async":"sync";!1!==g.callHook("beforeDisable",f)&&(g.disabled=!0,g.model.disabled=!0,g.callHook("afterDisable",f));},enable:function(){var g=this,f=g.isAsync?"async":"sync";!1!==g.callHook("beforeEnable",f)&&(g.disabled=!1,g.model.disabled=!1,g.callHook("afterEnable",f));},refresh:function(f){this.go(this.model.pageNumber,f);},show:function(){var f=this;f.model.el.is(":visible")||f.model.el.show();},hide:function(){var f=this;f.model.el.is(":visible")&&f.model.el.hide();},replaceVariables:function(h,g){var u;for(var t in g){var s=g[t],i=new RegExp("<%=\\s*"+t+"\\s*%>","img");u=(u||h).replace(i,s);}return u;},getDataFragment:function(h){var g=c.pageSize,u=c.dataSource,t=this.getTotalNumber(),s=g*(h-1)+1,i=Math.min(h*g,t);return u.slice(s-1,i);},getTotalNumber:function(){return this.model.totalNumber||c.totalNumber||0;},getTotalPage:function(){return Math.ceil(this.getTotalNumber()/c.pageSize);},getLocator:function(f){var g;return"string"==typeof f?g=f:q.isFunction(f)?g=f():p('"locator" is incorrect. (String | Function)'),g;},filterDataByLocator:function(f){var h,g=this.getLocator(c.locator);if(j.isObject(f)){try{q.each(g.split("."),function(i,s){h=(h||f)[s];});}catch(f){}h?j.isArray(h)||p("dataSource."+g+" must be an Array."):p("dataSource."+g+" is undefined.");}return h||f;},parseDataSource:function(f,h){var g=this;j.isObject(f)?h(c.dataSource=g.filterDataByLocator(f)):j.isArray(f)?h(c.dataSource=f):q.isFunction(f)?c.dataSource(function(i){j.isArray(i)||p('The parameter of "done" Function should be an Array.'),g.parseDataSource.call(g,i,h);}):"string"==typeof f?(/^https?|file:/.test(f)&&(c.ajaxDataType="jsonp"),h(f)):p('Unexpected type of "dataSource".');},callHook:function(s){var i,h=d.data("pagination"),g=Array.prototype.slice.apply(arguments);return g.shift(),c[s]&&q.isFunction(c[s])&&!1===c[s].apply(r,g)&&(i=!1),h.hooks&&h.hooks[s]&&q.each(h.hooks[s],function(f,t){!1===t.apply(r,g)&&(i=!1);}),!1!==i;},observer:function(){var g=this,s=g.model.el;d.on(k+"go",function(v,u,t){(u=parseInt(q.trim(u)))&&(q.isNumeric(u)||p('"pageNumber" is incorrect. (Number)'),g.go(u,t));}),s.delegate(".J-paginationjs-page","click",function(u){var t=q(u.currentTarget),f=q.trim(t.attr("data-num"));if(f&&!t.hasClass(c.disableClassName)&&!t.hasClass(c.activeClassName)){return !1!==g.callHook("beforePageOnClick",u,f)&&(g.go(f),g.callHook("afterPageOnClick",u,f),!!c.pageLink&&void 0);}}),s.delegate(".J-paginationjs-previous","click",function(u){var t=q(u.currentTarget),f=q.trim(t.attr("data-num"));if(f&&!t.hasClass(c.disableClassName)){return !1!==g.callHook("beforePreviousOnClick",u,f)&&(g.go(f),g.callHook("afterPreviousOnClick",u,f),!!c.pageLink&&void 0);}}),s.delegate(".J-paginationjs-next","click",function(u){var t=q(u.currentTarget),f=q.trim(t.attr("data-num"));if(f&&!t.hasClass(c.disableClassName)){return !1!==g.callHook("beforeNextOnClick",u,f)&&(g.go(f),g.callHook("afterNextOnClick",u,f),!!c.pageLink&&void 0);}}),s.delegate(".J-paginationjs-go-button","click",function(t){var f=q(".J-paginationjs-go-pagenumber",s).val();if(!1===g.callHook("beforeGoButtonOnClick",t,f)){return !1;}d.trigger(k+"go",f),g.callHook("afterGoButtonOnClick",t,f);}),s.delegate(".J-paginationjs-go-pagenumber","keyup",function(t){if(13===t.which){var f=q(t.currentTarget).val();if(!1===g.callHook("beforeGoInputOnEnter",t,f)){return !1;}d.trigger(k+"go",f),q(".J-paginationjs-go-pagenumber",s).focus(),g.callHook("afterGoInputOnEnter",t,f);}}),d.on(k+"previous",function(f,t){g.previous(t);}),d.on(k+"next",function(f,t){g.next(t);}),d.on(k+"disable",function(){g.disable();}),d.on(k+"enable",function(){g.enable();}),d.on(k+"refresh",function(f,t){g.refresh(t);}),d.on(k+"show",function(){g.show();}),d.on(k+"hide",function(){g.hide();}),d.on(k+"destroy",function(){g.destroy();});var i=Math.max(g.getTotalPage(),1),h=c.pageNumber;g.isDynamicTotalNumber&&(h=1),c.triggerPagingOnInit&&d.trigger(k+"go",Math.min(h,i));}};if(d.data("pagination")&&!0===d.data("pagination").initialized){if(q.isNumeric(e)){return d.trigger.call(this,k+"go",e,arguments[1]),this;}if("string"==typeof e){var a=Array.prototype.slice.apply(arguments);switch(a[0]=k+a[0],e){case"previous":case"next":case"go":case"disable":case"enable":case"refresh":case"show":case"hide":case"destroy":d.trigger.apply(this,a);break;case"getSelectedPageNum":return d.data("pagination").model?d.data("pagination").model.pageNumber:d.data("pagination").attributes.pageNumber;case"getTotalPage":return Math.ceil(d.data("pagination").model.totalNumber/d.data("pagination").model.pageSize);case"getSelectedPageData":return d.data("pagination").currentPageData;case"isDisabled":return !0===d.data("pagination").model.disabled;default:p("Unknown action: "+e);}return this;}n(d);}else{j.isObject(e)||p("Illegal options");}return o(c),b.initialize(),this;},q.fn[l].defaults={totalNumber:0,pageNumber:1,pageSize:10,pageRange:2,showPrevious:!0,showNext:!0,showPageNumbers:!0,showNavigator:!1,showGoInput:!1,showGoButton:!1,pageLink:"",prevText:"&laquo;",nextText:"&raquo;",ellipsisText:"...",goButtonText:"Go",classPrefix:"paginationjs",activeClassName:"active",disableClassName:"disabled",inlineStyle:!0,formatNavigator:"<%= currentPage %> / <%= totalPage %>",formatGoInput:"<%= input %>",formatGoButton:"<%= button %>",position:"bottom",autoHidePrevious:!1,autoHideNext:!1,triggerPagingOnInit:!0,hideWhenLessThanOnePage:!1,showFirstOnEllipsisShow:!0,showLastOnEllipsisShow:!0,callback:function(){}},q.fn.addHook=function(b,h){arguments.length<2&&p("Missing argument."),q.isFunction(h)||p("callback must be a function.");var g=q(this),c=g.data("pagination");c||(g.data("pagination",{}),c=g.data("pagination")),!c.hooks&&(c.hooks={}),c.hooks[b]=c.hooks[b]||[],c.hooks[b].push(h);},q[l]=function(b,f){arguments.length<2&&p("Requires two parameters.");var c;if(c="string"!=typeof b&&b instanceof jQuery?b:q(b),c.length){return c.pagination(f),c;}};var j={};q.each(["Object","Array","String"],function(d,c){j["is"+c]=function(b){return m(b)===c.toLowerCase();};}),"function"==typeof define&&define.amd&&define(function(){return q;});}(this,window.jQuery);