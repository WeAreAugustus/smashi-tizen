<section>
    <div id="searchBox" class="searchcont container" style="display: none;">
        <div class="input-group mb-3 searchbox">
            <i style="padding-inline-start: 1rem; padding-inline-end: 1rem;" class="bi-search">
	            <svg width="30" height="30" viewBox="0 0 30 30" fill="none" xmlns="http://www.w3.org/2000/svg">
				<path fill-rule="evenodd" clip-rule="evenodd" d="M24.0733 21.7683L29.414 27.0732L29.4141 27.0727C30.0729 27.7315 30.0729 28.7919 29.4141 29.4136C29.0854 29.7066 28.6824 29.8895 28.2436 29.8895C27.8049 29.8895 27.4019 29.7423 27.0732 29.4136L21.7683 24.0344C19.4276 25.9009 16.5006 26.8884 13.5366 26.8884C9.95271 26.8884 6.58553 25.4979 4.06173 22.9741C1.538 20.4505 0.147461 17.0849 0.147461 13.4993C0.147461 9.91535 1.53792 6.54818 4.06173 4.02437C6.58539 1.50064 9.95095 0.110107 13.5366 0.110107C17.1205 0.110107 20.4877 1.50057 23.0115 4.02437C27.8046 8.81779 28.2433 16.4261 24.0733 21.7683ZM20.6706 20.6334C22.5743 18.7313 23.6346 16.206 23.6346 13.4993C23.6346 10.7927 22.5728 8.26868 20.6706 6.36511C18.7686 4.4615 16.2432 3.40111 13.5365 3.40111C10.8654 3.40111 8.3045 4.46296 6.40235 6.36511C4.49874 8.26718 3.43835 10.7925 3.43835 13.4993C3.43835 16.1703 4.50021 18.7313 6.40235 20.6334C8.30442 22.537 10.8654 23.5974 13.5365 23.5974C16.2076 23.5974 18.7685 22.5355 20.6706 20.6334Z" fill="#B3B3B3"/>
				</svg>
            </i>
            <input type="text" class="form-control focusable"
			placeholder="Search for videos, episodes and shows"
            style="background-color: #464646;color: white;font-size: 32px;border-color: #464646;margin: 10px;">
        </div>
      	<button class="focusable newbutton watchlivebutton" onclick="performSearch()" style="margin-inline-start: 3rem; margin-block-start: 1.5rem;" lang-value="search">
      	</button>
    </div>

    <div id="searchBoxArabic" class="searchcont container">
        <div class="input-group mb-3 searchbox">
            <i style="padding-inline: 1.0rem;" class="bi-search">
	            <svg width="30" height="30" viewBox="0 0 30 30" fill="none" xmlns="http://www.w3.org/2000/svg">
				<path fill-rule="evenodd" clip-rule="evenodd" d="M24.0733 21.7683L29.414 27.0732L29.4141 27.0727C30.0729 27.7315 30.0729 28.7919 29.4141 29.4136C29.0854 29.7066 28.6824 29.8895 28.2436 29.8895C27.8049 29.8895 27.4019 29.7423 27.0732 29.4136L21.7683 24.0344C19.4276 25.9009 16.5006 26.8884 13.5366 26.8884C9.95271 26.8884 6.58553 25.4979 4.06173 22.9741C1.538 20.4505 0.147461 17.0849 0.147461 13.4993C0.147461 9.91535 1.53792 6.54818 4.06173 4.02437C6.58539 1.50064 9.95095 0.110107 13.5366 0.110107C17.1205 0.110107 20.4877 1.50057 23.0115 4.02437C27.8046 8.81779 28.2433 16.4261 24.0733 21.7683ZM20.6706 20.6334C22.5743 18.7313 23.6346 16.206 23.6346 13.4993C23.6346 10.7927 22.5728 8.26868 20.6706 6.36511C18.7686 4.4615 16.2432 3.40111 13.5365 3.40111C10.8654 3.40111 8.3045 4.46296 6.40235 6.36511C4.49874 8.26718 3.43835 10.7925 3.43835 13.4993C3.43835 16.1703 4.50021 18.7313 6.40235 20.6334C8.30442 22.537 10.8654 23.5974 13.5365 23.5974C16.2076 23.5974 18.7685 22.5355 20.6706 20.6334Z" fill="#B3B3B3"/>
				</svg>
            </i>
            <input type="text" class="form-control focusable"
			placeholder="ابحث عن المقاطع, الحلقات و البرامج"
            style="background-color: #464646;color: white;font-size: 32px;border-color: #464646;margin: 10px;">
        </div>
        <button class="focusable newbutton watchlivebutton" onclick="performSearch()" style="margin-inline-start: 3rem; margin-block-start: 1.5rem;" lang-value="search">
      	</button>
    </div>


    <div style="padding-top: 0%;display: inherit; padding-left:0;" id="latestMainSection" class="container-fluid">
        <div style="margin-top: 2%;" class="container-fluid">
            <div class="row">
                <div class="col-12">
                    <div style="display: inherit;" class="containerme">
                        <div id="getSearchResults" class="carouselme"></div>
                        <div style="display: none;" id="pagination"></div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<script>
    var myLanguage = sessionStorage.getItem("locale");
    if(myLanguage == 'ar'){
        document.getElementById("searchBox").style.display = "none";
        document.getElementById("searchBoxArabic").style.display = "flex";
    } else{
        document.getElementById("searchBox").style.display = "flex";
        document.getElementById("searchBoxArabic").style.display = "none";
    }
    var checkIndex = 0;
    function checkLockSearch(checker) {
	    console.log("in checker");
	    var hasSubscription = localStorage.getItem("hasSubscription");
	    if (checker == 1 || hasSubscription == "true") {
	        console.log("in checker cond");
	        document.getElementsByClassName('lockicon')[checkIndex].style.display = "none";
   		}
   		if(checkIndex == document.getElementsByClassName('lockicon').length - 1){
   			checkIndex = 0;
   		}
   		else{
   			checkIndex++;
   		}
	}
	require(['client/search'], function (search) {
        search.searchVideoWatch();
    });
    function performSearch(){
    	require(['client/search'], function (search) {
			search.getSearchResults(1, 12);
		});
    }
    require(["router"], function(router) {
	    router.showSideBar();
	});
</script>
